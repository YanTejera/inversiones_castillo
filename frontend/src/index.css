@tailwind base;
@tailwind components;
@tailwind utilities;

/* PWA Mobile App Styles */
@layer base {
  /* Mobile PWA optimizations */
  @media (max-width: 768px) {
    html {
      /* Full height for mobile PWA */
      height: 100%;
      height: 100vh;
      height: -webkit-fill-available;
    }
    
    body {
      /* Prevent iOS Safari address bar issues */
      height: 100%;
      height: 100vh;
      height: -webkit-fill-available;
      overflow: hidden;
      overscroll-behavior: none;
      -webkit-overflow-scrolling: touch;
      position: fixed;
      width: 100%;
    }
    
    #root {
      height: 100%;
      height: 100vh;
      height: -webkit-fill-available;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
  
  /* Allow text selection in form elements */
  input, textarea, [contenteditable] {
    -webkit-user-select: text;
    user-select: text;
  }
  
  /* Prevent pull-to-refresh on mobile */
  @media (max-width: 768px) {
    body {
      overscroll-behavior-y: none;
    }
  }
}

/* Safe Area Support for iOS */
@layer utilities {
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }
  
  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-left {
    padding-left: env(safe-area-inset-left);
  }
  
  .safe-right {
    padding-right: env(safe-area-inset-right);
  }
  
  .safe-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  .safe-y {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
  }
  
  .safe-all {
    padding-top: env(safe-area-inset-top);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
  }
  
  /* Height adjustments for safe area */
  .h-screen-safe {
    height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
  
  /* Top safe area with fallback */
  .pt-safe-or-4 {
    padding-top: max(1rem, env(safe-area-inset-top));
  }
  
  /* Bottom safe area with fallback */
  .pb-safe-or-4 {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}
